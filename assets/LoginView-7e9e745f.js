import{_ as y,F as I,a as k,m as F,b as V,r,o as L,c as M,d as o,f as e,w as g,s as f,l as _,q as h,j as B,K as N,y as C,z as j}from"./index-9926fd6b.js";const P={components:{FrontNavbar:I,FullFooter:k},data(){return{user:{username:"VIP-test@jtown.com.tw",password:""},rememberMe:!1}},created(){this.checkRemember()},mounted(){this.checkLoginStatus()},computed:{...F(_,["isLoading","isLogin"])},watch:{rememberMe(){this.rememberMe?this.$swal.fire({title:"Are you sure remember it?",text:" Please verify and correct it if necessary!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, do it!"}).then(s=>{s.isConfirmed&&(this.$swal.fire("Remember!","Your password has been saved.","success"),localStorage.setItem("username",this.user.username),localStorage.setItem("password",this.user.password),localStorage.setItem("rememberMe",!0))}):(localStorage.removeItem("username"),localStorage.removeItem("password"),localStorage.removeItem("rememberMe"))}},methods:{...V(_,["checkLoginStatus"]),signIn(){const s="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(s,this.user).then(t=>{if(t.data.success){const{token:c,expired:d}=t.data;document.cookie=`JTownToken=${c}; expires=${new Date(d)}`,this.$router.go(-1),localStorage.setItem("username",JSON.stringify(this.user.username))}else this.$swal.fire("Incorrect","please check username or password.","warning")})},validatePassword(s){return s?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{10,}$/.test(s)?!0:"密碼需包含英文大小寫和數字，且超過十位數以上":!1},checkRemember(){localStorage.getItem("rememberMe")==="true"?(this.rememberMe=!0,this.user.username=localStorage.getItem("username"),this.user.password=localStorage.getItem("password")):localStorage.setItem("rememberMe","false")},confirmEvent(){localStorage.setItem("VIP",JSON.stringify("testToken")),localStorage.setItem("username",JSON.stringify(this.user.username)),this.$router.push("/dashboard/products")}}},i=s=>(C("data-v-36a1d69d"),s=s(),j(),s),T={class:"login_bg"},q={class:"d-flex justify-content-center align-items-center h-100"},J={class:"card"},R=i(()=>e("div",{class:"card-header"},[e("h3",null,"Login"),e("div",{class:"d-flex justify-content-end social_icon"},[e("span",null,[e("i",{class:"fab fa-google-plus-square"})])])],-1)),U={class:"card-body"},$={class:"input-group form-group mb-2 position-relative"},z=i(()=>e("div",{class:"input-group-prepend"},[e("i",{class:"fas fa-user"})],-1)),A={class:"input-group form-group mt-4"},D=i(()=>e("div",{class:"input-group-prepend"},[e("i",{class:"fas fa-key"})],-1)),E={class:"mt-2 d-flex gap-1 align-items-center justify-content-end me-2"},O=i(()=>e("label",{for:"remember",class:"text-white"},"Remember Me",-1)),Y=i(()=>e("div",{class:"form-group text-center mt-5"},[e("input",{type:"submit",value:"Login",class:"btn float-right login_btn"})],-1)),K={class:"card-footer d-flex justify-content-center align-items-center"},Z={class:"d-flex justify-content-center align-items-center links"};function G(s,t,c,d,a,m){const v=r("Loading"),b=r("FrontNavbar"),u=r("Field"),p=r("error-message"),w=r("Form"),x=r("el-button"),S=r("FullFooter");return L(),M("div",null,[o(v,{active:s.isLoading},null,8,["active"]),o(b,{"is-login":s.isLogin},null,8,["is-login"]),e("div",T,[e("div",q,[e("div",J,[R,e("div",U,[o(w,{onSubmit:m.signIn},{default:g(({errors:l})=>[e("div",$,[z,o(u,{type:"text",name:"email",class:h(["form-control rounded-3",{"is-invalid":l.email,"is-valid":!l.email&&!!a.user.username}]),placeholder:"請輸入 Email",rules:"email|required",autofocus:"",modelValue:a.user.username,"onUpdate:modelValue":t[0]||(t[0]=n=>a.user.username=n)},null,8,["class","modelValue"]),o(p,{name:"email",class:"invalid-feedback ms-5",style:{"text-shadow":"0 2px 5px #fff"}})]),e("div",A,[D,o(u,{type:"password",name:"密碼",id:"password",class:h(["form-control rounded-3",{"is-invalid":l.密碼,"is-valid":!l.密碼&&!!a.user.password}]),placeholder:"password",required:"",modelValue:a.user.password,"onUpdate:modelValue":t[1]||(t[1]=n=>a.user.password=n),maxlength:"20",rules:m.validatePassword},null,8,["modelValue","rules","class"]),o(p,{name:"密碼",class:"invalid-feedback ms-5",style:{"text-shadow":"0 2px 5px #fff"}})]),e("div",E,[B(e("input",{id:"remember",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>a.rememberMe=n)},null,512),[[N,a.rememberMe]]),O]),Y]),_:1},8,["onSubmit"])]),e("div",K,[e("div",Z,[f(" Don't have an account? "),o(x,{style:{}},{default:g(()=>[f("Sign Up")]),_:1})])])])])]),o(S)])}const Q=y(P,[["render",G],["__scopeId","data-v-36a1d69d"]]);export{Q as default};
