import{P as wt}from"./ProductsList-7bb85733.js";import{A as xt,B as Mt,C as Ot,_ as Pt,m as Y,b as G,r as H,o as E,c as k,d as _,f as h,w as j,k as K,p as J,t as A,j as X,x as N,q as ht,i as St,D as _t,h as Tt,E as Q,u as dt,l as Et,G as kt,H as Ct,s as z,y as Lt,z as At}from"./index-9926fd6b.js";const bt=(a,...t)=>{const e=t.length;for(let i=0;i<e;i++){const s=t[i]||{};Object.entries(s).forEach(([n,o])=>{const r=Array.isArray(o)?[]:{};var l;a[n]||Object.assign(a,{[n]:r}),typeof(l=o)=="object"&&l!==null&&l.constructor===Object&&Object.prototype.toString.call(l)==="[object Object]"?Object.assign(a[n],bt(r,o)):Array.isArray(o)?Object.assign(a,{[n]:[...o]}):Object.assign(a,{[n]:o})})}return a},tt=function(a,t){return a.split(".").reduce((e,i)=>typeof e=="object"?e[i]:void 0,t)};let at=class{constructor(t={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}setOptions(t){this.options=t?bt({},this.constructor.defaults,t):{};for(const[e,i]of Object.entries(this.option("on")||{}))this.on(e,i)}option(t,...e){let i=tt(t,this.options);return i&&typeof i=="function"&&(i=i.call(this,this,...e)),i}optionFor(t,e,i,...s){let n=tt(e,t);var o;typeof(o=n)!="string"||isNaN(o)||isNaN(parseFloat(o))||(n=parseFloat(n)),n==="true"&&(n=!0),n==="false"&&(n=!1),n&&typeof n=="function"&&(n=n.call(this,this,t,...s));let r=tt(e,this.options);return r&&typeof r=="function"?n=r.call(this,this,t,...s,n):n===void 0&&(n=r),n===void 0?i:n}cn(t){const e=this.options.classes;return e&&e[t]||""}localize(t,e=[]){t=String(t).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,s,n)=>{let o="";return n?o=this.option(`${s[0]+s.toLowerCase().substring(1)}.l10n.${n}`):s&&(o=this.option(`l10n.${s}`)),o||(o=i),o});for(let i=0;i<e.length;i++)t=t.split(e[i][0]).join(e[i][1]);return t=t.replace(/\{\{(.*?)\}\}/g,(i,s)=>s)}on(t,e){let i=[];typeof t=="string"?i=t.split(" "):Array.isArray(t)&&(i=t),this.events||(this.events=new Map),i.forEach(s=>{let n=this.events.get(s);n||(this.events.set(s,[]),n=[]),n.includes(e)||n.push(e),this.events.set(s,n)})}off(t,e){let i=[];typeof t=="string"?i=t.split(" "):Array.isArray(t)&&(i=t),i.forEach(s=>{const n=this.events.get(s);if(Array.isArray(n)){const o=n.indexOf(e);o>-1&&n.splice(o,1)}})}emit(t,...e){[...this.events.get(t)||[]].forEach(i=>i(this,...e)),t!=="*"&&this.emit("*",t,...e)}};Object.defineProperty(at,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.22"}),Object.defineProperty(at,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});let jt=class extends at{constructor(t,e){super(e),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:t})}attach(){}detach(){}},vt=class extends jt{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pins",{enumerable:!0,configurable:!0,writable:!0,value:[]})}onTransform(t){for(const i of this.pins){if(!((e=i)&&e!==null&&e instanceof Element&&"nodeType"in e))continue;const{fitWidth:s,fitHeight:n,fullWidth:o,fullHeight:r}=t.contentRect,l=i.dataset.x||"",m=i.dataset.y||"";let g=0,c=0;g=l.includes("%")?s*(parseFloat(l)/100):parseFloat(l)/o*s,g-=.5*s,c=m.includes("%")?n*(parseFloat(m)/100):parseFloat(m)/r*n,c-=.5*n;const u=new DOMPoint(g,c).matrixTransform(t.getMatrix());i.style.transform=`translate3d(${u.x||0}px, ${u.y||0}px, 0)`}var e}attach(){const t=this.instance;this.pins=Array.from(t.container.querySelectorAll("[data-panzoom-pin]")),this.pins.length&&(t.container.classList.add("has-pins"),t.on("afterTransform",this.onTransform))}detach(){const t=this.instance;this.pins=[],t.container.classList.remove("has-pins"),t.off("afterTransform",this.onTransform)}};Object.defineProperty(vt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});const b=(a,t=1e4)=>(a=parseFloat(a+"")||0,Math.round((a+Number.EPSILON)*t)/t),rt=function(a,t=void 0){return!(!a||a===document.body||t&&a===t)&&(function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const i=e.scrollHeight>e.clientHeight,s=window.getComputedStyle(e).overflowY,n=s.indexOf("hidden")!==-1,o=s.indexOf("visible")!==-1;return i&&!n&&!o}(a)?a:rt(a.parentElement,t))},ct=a=>`${a||""}`.split(" ").filter(t=>!!t),et=(a,t,e)=>{ct(t).forEach(i=>{a&&a.classList.toggle(i,e||!1)})};class D{constructor(t){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()}}const R={passive:!1};class zt{constructor(t,{start:e=()=>!0,move:i=()=>{},end:s=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=t,this.startCallback=e,this.moveCallback=i,this.endCallback=s;for(const n of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[n]=this[n].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,R),this.element.addEventListener("touchstart",this.onTouchStart,R),this.element.addEventListener("touchmove",this.onMove,R),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(t){if(!t.buttons||t.button!==0)return;const e=new D(t);this.currentPointers.some(i=>i.id===e.id)||this.triggerPointerStart(e,t)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerStart(new D(e),t);window.addEventListener("blur",this.onWindowBlur)}onMove(t){const e=this.currentPointers.slice(),i="changedTouches"in t?Array.from(t.changedTouches||[]).map(n=>new D(n)):[new D(t)],s=[];for(const n of i){const o=this.currentPointers.findIndex(r=>r.id===n.id);o<0||(s.push(n),this.currentPointers[o]=n)}s.length&&this.moveCallback(t,this.currentPointers.slice(),e)}onPointerEnd(t){t.buttons>0&&t.button!==0||(this.triggerPointerEnd(t,new D(t)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerEnd(t,new D(e))}triggerPointerStart(t,e){return!!this.startCallback(e,t,this.currentPointers.slice())&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}triggerPointerEnd(t,e){const i=this.currentPointers.findIndex(s=>s.id===e.id);i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(t,e,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const t=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:t.clientX,clientY:t.clientY}),t,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,R),this.element.removeEventListener("touchstart",this.onTouchStart,R),this.element.removeEventListener("touchmove",this.onMove,R),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function ut(a,t){return t?Math.sqrt(Math.pow(t.clientX-a.clientX,2)+Math.pow(t.clientY-a.clientY,2)):0}function mt(a,t){return t?{clientX:(a.clientX+t.clientX)/2,clientY:(a.clientY+t.clientY)/2}:a}const yt=(a,...t)=>{const e=t.length;for(let i=0;i<e;i++){const s=t[i]||{};Object.entries(s).forEach(([n,o])=>{const r=Array.isArray(o)?[]:{};var l;a[n]||Object.assign(a,{[n]:r}),typeof(l=o)=="object"&&l!==null&&l.constructor===Object&&Object.prototype.toString.call(l)==="[object Object]"?Object.assign(a[n],yt(r,o)):Array.isArray(o)?Object.assign(a,{[n]:[...o]}):Object.assign(a,{[n]:o})})}return a},it=function(a,t){return a.split(".").reduce((e,i)=>typeof e=="object"?e[i]:void 0,t)};class lt{constructor(t={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}setOptions(t){this.options=t?yt({},this.constructor.defaults,t):{};for(const[e,i]of Object.entries(this.option("on")||{}))this.on(e,i)}option(t,...e){let i=it(t,this.options);return i&&typeof i=="function"&&(i=i.call(this,this,...e)),i}optionFor(t,e,i,...s){let n=it(e,t);var o;typeof(o=n)!="string"||isNaN(o)||isNaN(parseFloat(o))||(n=parseFloat(n)),n==="true"&&(n=!0),n==="false"&&(n=!1),n&&typeof n=="function"&&(n=n.call(this,this,t,...s));let r=it(e,this.options);return r&&typeof r=="function"?n=r.call(this,this,t,...s,n):n===void 0&&(n=r),n===void 0?i:n}cn(t){const e=this.options.classes;return e&&e[t]||""}localize(t,e=[]){t=String(t).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,s,n)=>{let o="";return n?o=this.option(`${s[0]+s.toLowerCase().substring(1)}.l10n.${n}`):s&&(o=this.option(`l10n.${s}`)),o||(o=i),o});for(let i=0;i<e.length;i++)t=t.split(e[i][0]).join(e[i][1]);return t=t.replace(/\{\{(.*?)\}\}/g,(i,s)=>s)}on(t,e){let i=[];typeof t=="string"?i=t.split(" "):Array.isArray(t)&&(i=t),this.events||(this.events=new Map),i.forEach(s=>{let n=this.events.get(s);n||(this.events.set(s,[]),n=[]),n.includes(e)||n.push(e),this.events.set(s,n)})}off(t,e){let i=[];typeof t=="string"?i=t.split(" "):Array.isArray(t)&&(i=t),i.forEach(s=>{const n=this.events.get(s);if(Array.isArray(n)){const o=n.indexOf(e);o>-1&&n.splice(o,1)}})}emit(t,...e){[...this.events.get(t)||[]].forEach(i=>i(this,...e)),t!=="*"&&this.emit("*",t,...e)}}Object.defineProperty(lt,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.22"}),Object.defineProperty(lt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class Dt extends lt{constructor(t={}){super(t),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(t={}){const e=new Map;for(const[i,s]of Object.entries(t)){const n=this.option(i),o=this.plugins[i];o||n===!1?o&&n===!1&&(o.detach(),delete this.plugins[i]):e.set(i,new s(this,n||{}))}for(const[i,s]of e)this.plugins[i]=s,s.attach();this.emit("attachPlugins")}detachPlugins(t){t=t||Object.keys(this.plugins);for(const e of t){const i=this.plugins[e];i&&i.detach(),delete this.plugins[e]}return this.emit("detachPlugins"),this}}var x;(function(a){a[a.Init=0]="Init",a[a.Error=1]="Error",a[a.Ready=2]="Ready",a[a.Panning=3]="Panning",a[a.Mousemove=4]="Mousemove",a[a.Destroy=5]="Destroy"})(x||(x={}));const C=["a","b","c","d","e","f"],Rt={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:{PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"}},V=(a,t)=>{a&&ct(t).forEach(e=>{a.classList.remove(e)})},nt=(a,t)=>{a&&ct(t).forEach(e=>{a.classList.add(e)})},Z={a:1,b:0,c:0,d:1,e:0,f:0},Ft=1e5,$=1e3,S="mousemove",ft="drag",gt="content";let st=null,ot=null;class W extends Dt{get isTouchDevice(){return ot===null&&(ot=window.matchMedia("(hover: none)").matches),ot}get isMobile(){return st===null&&(st=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),st}get panMode(){return this.options.panMode!==S||this.isTouchDevice?ft:S}get panOnlyZoomed(){const t=this.options.panOnlyZoomed;return t==="auto"?this.isTouchDevice:t}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:t,b:e}=this.current;return Math.sqrt(t*t+e*e)||1}get targetScale(){const{a:t,b:e}=this.target;return Math.sqrt(t*t+e*e)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:t}=this;return t.fullWidth/t.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:t,contentRect:e}=this,i=Math.max(t.height/e.fitHeight,t.width/e.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const t=this.content;return!!(t&&t instanceof HTMLImageElement)&&!t.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const t of C){const e=t=="e"||t==="f"?.001:1e-5;if(Math.abs(this.target[t]-this.current[t])>e)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(t,e={},i={}){var s;if(super(e),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:x.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Z)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Z)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw new Error("Container Element Not Found");this.container=t,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},W.Plugins),i)),this.emit("init");const n=this.content;if(n.addEventListener("load",this.onLoad),n.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){t.classList.add(this.cn("isLoading"));const o=function(r){var l=new DOMParser().parseFromString(r,"text/html").body;if(l.childElementCount>1){for(var m=document.createElement("div");l.firstChild;)m.appendChild(l.firstChild);return m}return l.firstChild}('<div class="f-spinner"><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle><circle cx="25" cy="25" r="20"></circle></svg></div>');!t.contains(n)||n.parentElement instanceof HTMLPictureElement?this.spinner=t.appendChild(o):this.spinner=((s=n.parentElement)===null||s===void 0?void 0:s.insertBefore(o,n))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){const{container:t}=this,e=this.cn(gt);let i=this.option(gt)||t.querySelector(`.${e}`);if(i||(i=t.querySelector("img,picture")||t.firstElementChild,i&&nt(i,e)),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}onLoad(){this.spinner&&(this.spinner.remove(),this.spinner=null),this.option("spinner")&&this.container.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),this.state===x.Init?this.enable():this.updateMetrics()}onError(){this.state!==x.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=x.Error,this.emit("error"))}attachObserver(){var t;const e=()=>Math.abs(this.containerRect.width-this.container.getBoundingClientRect().width)>.1||Math.abs(this.containerRect.height-this.container.getBoundingClientRect().height)>.1;this.resizeObserver||window.ResizeObserver===void 0||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(e()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{e()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),(t=this.resizeObserver)===null||t===void 0||t.observe(this.container)}detachObserver(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()}attachEvents(){const{container:t}=this;t.addEventListener("click",this.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new zt(t,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(S,this.onMouseMove)}detachEvents(){var t;const{container:e}=this;e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("wheel",this.onWheel,{passive:!1}),(t=this.pointerTracker)===null||t===void 0||t.stop(),this.pointerTracker=null,document.removeEventListener(S,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){const t=this.friction;this.setTargetForce();const e=this.option("maxVelocity");for(const i of C)t?(this.velocity[i]*=1-t,e&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],e),-1*e)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(const t of C)t==="e"&&this.isBouncingX||t==="f"&&this.isBouncingY||(this.velocity[t]=(1/(1-this.friction)-1)*(this.target[t]-this.current[t]))}checkBounds(t=0,e=0){const{current:i}=this,s=i.e+t,n=i.f+e,o=this.getBounds(),{x:r,y:l}=o,m=r.min,g=r.max,c=l.min,u=l.max;let d=0,f=0;return m!==1/0&&s<m?d=m-s:g!==1/0&&s>g&&(d=g-s),c!==1/0&&n<c?f=c-n:u!==1/0&&n>u&&(f=u-n),Math.abs(d)<.001&&(d=0),Math.abs(f)<.001&&(f=0),Object.assign(Object.assign({},o),{xDiff:d,yDiff:f,inBounds:!d&&!f})}clampTargetBounds(){const{target:t}=this,{x:e,y:i}=this.getBounds();e.min!==1/0&&(t.e=Math.max(t.e,e.min)),e.max!==1/0&&(t.e=Math.min(t.e,e.max)),i.min!==1/0&&(t.f=Math.max(t.f,i.min)),i.max!==1/0&&(t.f=Math.min(t.f,i.max))}calculateContentDim(t=this.current){const{content:e,contentRect:i}=this,{fitWidth:s,fitHeight:n,fullWidth:o,fullHeight:r}=i;let l=o,m=r;if(this.option("zoom")||this.angle!==0){const g=!(e instanceof HTMLImageElement)&&(window.getComputedStyle(e).maxWidth==="none"||window.getComputedStyle(e).maxHeight==="none"),c=g?o:s,u=g?r:n,d=this.getMatrix(t),f=new DOMPoint(0,0).matrixTransform(d),y=new DOMPoint(0+c,0).matrixTransform(d),p=new DOMPoint(0+c,0+u).matrixTransform(d),v=new DOMPoint(0,0+u).matrixTransform(d),M=Math.abs(p.x-f.x),w=Math.abs(p.y-f.y),L=Math.abs(v.x-y.x),F=Math.abs(v.y-y.y);l=Math.max(M,L),m=Math.max(w,F)}return{contentWidth:l,contentHeight:m}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===S||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:t}=this,{x:e,y:i,xDiff:s,yDiff:n}=this.checkBounds(),o=this.option("maxVelocity");let r=this.velocity.e,l=this.velocity.f;s!==0?(this.isBouncingX=!0,s*r<=0?r+=.14*s:(r=.14*s,e.min!==1/0&&(this.target.e=Math.max(t.e,e.min)),e.max!==1/0&&(this.target.e=Math.min(t.e,e.max))),o&&(r=Math.max(Math.min(r,o),-1*o))):this.isBouncingX=!1,n!==0?(this.isBouncingY=!0,n*l<=0?l+=.14*n:(l=.14*n,i.min!==1/0&&(this.target.f=Math.max(t.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(t.f,i.max))),o&&(l=Math.max(Math.min(l,o),-1*o))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=r),this.isBouncingY&&(this.velocity.f=l)}enable(){const{content:t}=this,e=new DOMMatrixReadOnly(window.getComputedStyle(t).transform);for(const i of C)this.current[i]=this.target[i]=e[i];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=x.Ready,this.emit("ready")}onClick(t){var e;this.isDragging&&((e=this.pointerTracker)===null||e===void 0||e.clear(),this.trackingPoints=[],this.startDecelAnim());const i=t.target;if(!i||t.defaultPrevented)return;if(i&&i.hasAttribute("disabled"))return t.preventDefault(),void t.stopPropagation();if((()=>{const d=window.getSelection();return d&&d.type==="Range"})()&&!i.closest("button"))return;const s=i.closest("[data-panzoom-action]"),n=i.closest("[data-panzoom-change]"),o=s||n,r=o&&(l=o)&&l!==null&&l instanceof Element&&"nodeType"in l?o.dataset:null;var l;if(r){const d=r.panzoomChange,f=r.panzoomAction;if((d||f)&&t.preventDefault(),d){let y={};try{y=JSON.parse(d)}catch{console&&console.warn("The given data was not valid JSON")}return void this.applyChange(y)}if(f)return void(this[f]&&this[f]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return t.preventDefault(),void t.stopPropagation();const m=this.content.getBoundingClientRect();if(this.dragStart.time&&!this.canZoomOut()&&(Math.abs(m.x-this.dragStart.x)>2||Math.abs(m.y-this.dragStart.y)>2))return;this.dragStart.time=0;const g=d=>{this.option("zoom")&&d&&typeof d=="string"&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(d)&&typeof this[d]=="function"&&(t.preventDefault(),this[d]({event:t}))},c=this.option("click",t),u=this.option("dblClick",t);u?(this.clicks++,this.clicks==1&&(this.clickTimer=setTimeout(()=>{this.clicks===1?(this.emit("click",t),!t.defaultPrevented&&c&&g(c)):(this.emit("dblClick",t),t.defaultPrevented||g(u)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",t),!t.defaultPrevented&&c&&g(c))}addTrackingPoint(t){const e=this.trackingPoints.filter(i=>i.time>Date.now()-100);e.push(t),this.trackingPoints=e}onPointerDown(t,e,i){var s;if(this.option("touch",t)===!1)return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const n=this.content.getBoundingClientRect();if(this.dragStart={x:n.x,y:n.y,top:n.top,left:n.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===S&&this.targetScale>1)return t.preventDefault(),t.stopPropagation(),!1;const o=t.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(o.nodeName)||o.closest("[contenteditable]")||o.closest("[data-selectable]")||o.closest("[data-draggable]")||o.closest("[data-clickable]")||o.closest("[data-panzoom-change]")||o.closest("[data-panzoom-action]"))return!1;(s=window.getSelection())===null||s===void 0||s.removeAllRanges()}if(t.type==="mousedown")["A","BUTTON"].includes(o.nodeName)||t.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(e),this.emit("touchStart",t)),!0}onPointerMove(t,e,i){if(this.option("touch",t)===!1||!this.isDragging||e.length<2&&this.panOnlyZoomed&&b(this.targetScale)<=b(this.minScale)||(this.emit("touchMove",t),t.defaultPrevented))return;this.addTrackingPoint(e[0]);const{content:s}=this,n=mt(i[0],i[1]),o=mt(e[0],e[1]);let r=0,l=0;if(e.length>1){const w=s.getBoundingClientRect();r=n.clientX-w.left-.5*w.width,l=n.clientY-w.top-.5*w.height}const m=ut(i[0],i[1]),g=ut(e[0],e[1]);let c=m?g/m:1,u=o.clientX-n.clientX,d=o.clientY-n.clientY;this.dragOffset.x+=u,this.dragOffset.y+=d,this.dragOffset.time=Date.now()-this.dragStart.time;let f=b(this.targetScale)===b(this.minScale)&&this.option("lockAxis");if(f&&!this.lockedAxis)if(f==="xy"||f==="y"||t.type==="touchmove"){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void t.preventDefault();const w=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=w>45&&w<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,u=0,d=0}else this.lockedAxis=f;if(rt(t.target,this.content)&&(f="x",this.dragOffset.y=0),f&&f!=="xy"&&this.lockedAxis!==f&&b(this.targetScale)===b(this.minScale))return;t.cancelable&&t.preventDefault(),this.container.classList.add(this.cn("isDragging"));const y=this.checkBounds(u,d);this.option("rubberband")?(this.isInfinite!=="x"&&(y.xDiff>0&&u<0||y.xDiff<0&&u>0)&&(u*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*y.xDiff))),this.isInfinite!=="y"&&(y.yDiff>0&&d<0||y.yDiff<0&&d>0)&&(d*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*y.yDiff)))):(y.xDiff&&(u=0),y.yDiff&&(d=0));const p=this.targetScale,v=this.minScale,M=this.maxScale;p<.5*v&&(c=Math.max(c,v)),p>1.5*M&&(c=Math.min(c,M)),this.lockedAxis==="y"&&b(p)===b(v)&&(u=0),this.lockedAxis==="x"&&b(p)===b(v)&&(d=0),this.applyChange({originX:r,originY:l,panX:u,panY:d,scale:c,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(t,e,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(e),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),rt(t.target,this.content)&&this.lockedAxis==="y"&&(this.trackingPoints=[]),this.emit("touchEnd",t),this.isDragging=!1,this.lockedAxis=!1,this.state!==x.Destroy&&(t.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var t;const e=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const w of C)this.velocity[w]=0;this.target.e=this.current.e,this.target.f=this.current.f,V(this.container,"is-scaling"),V(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:i}=this,s=i[0],n=i[i.length-1];let o=0,r=0,l=0;n&&s&&(o=n.clientX-s.clientX,r=n.clientY-s.clientY,l=n.time-s.time);const m=((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1;m!==1&&(o*=m,r*=m);let g=0,c=0,u=0,d=0,f=this.option("decelFriction");const y=this.targetScale;if(l>0){u=Math.abs(o)>3?o/(l/30):0,d=Math.abs(r)>3?r/(l/30):0;const w=this.option("maxVelocity");w&&(u=Math.max(Math.min(u,w),-1*w),d=Math.max(Math.min(d,w),-1*w))}u&&(g=u/(1/(1-f)-1)),d&&(c=d/(1/(1-f)-1)),(this.option("lockAxis")==="y"||this.option("lockAxis")==="xy"&&this.lockedAxis==="y"&&b(y)===this.minScale)&&(g=u=0),(this.option("lockAxis")==="x"||this.option("lockAxis")==="xy"&&this.lockedAxis==="x"&&b(y)===this.minScale)&&(c=d=0);const p=this.dragOffset.x,v=this.dragOffset.y,M=this.option("dragMinThreshold")||0;Math.abs(p)<M&&Math.abs(v)<M&&(g=c=0,u=d=0),(y<this.minScale-1e-5||y>this.maxScale+1e-5||e&&!g&&!c)&&(f=.35),this.applyChange({panX:g,panY:c,friction:f}),this.emit("decel",u,d,p,v)}onWheel(t){var e=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce(function(n,o){return Math.abs(o)>Math.abs(n)?o:n});const i=Math.max(-1,Math.min(1,e));if(this.emit("wheel",t,i),this.panMode===S||t.defaultPrevented)return;const s=this.option("wheel");s==="pan"?(t.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-t.deltaX,panY:2*-t.deltaY,bounce:!1})):s==="zoom"&&this.option("zoom")!==!1&&this.zoomWithWheel(t)}onMouseMove(t){this.panWithMouse(t)}onKeydown(t){t.key==="Escape"&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:t,target:e,content:i,contentRect:s}=this,n=Object.assign({},Z);for(const p of C){const v=p=="e"||p==="f"?$:Ft;n[p]=b(t[p],v),Math.abs(e[p]-t[p])<(p=="e"||p==="f"?.51:.001)&&(t[p]=e[p])}let{a:o,b:r,c:l,d:m,e:g,f:c}=n,u=`matrix(${o}, ${r}, ${l}, ${m}, ${g}, ${c})`,d=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(d=d.parentElement||d),d.style.transform===u)return;d.style.transform=u;const{contentWidth:f,contentHeight:y}=this.calculateContentDim();s.width=f,s.height=y,this.emit("afterTransform")}updateMetrics(t=!1){var e;if(!this||this.state===x.Destroy||this.isContentLoading)return;const i=Math.max(1,((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1),{container:s,content:n}=this,o=n instanceof HTMLImageElement,r=s.getBoundingClientRect(),l=getComputedStyle(this.container);let m=r.width*i,g=r.height*i;const c=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),u=m-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),d=g-c;this.containerRect={width:m,height:g,innerWidth:u,innerHeight:d};let f=this.option("width")||"auto",y=this.option("height")||"auto";f==="auto"&&(f=parseFloat(n.dataset.width||"")||(O=>{let T=0;return T=O instanceof HTMLImageElement?O.naturalWidth:O instanceof SVGElement?O.width.baseVal.value:Math.max(O.offsetWidth,O.scrollWidth),T||0})(n)),y==="auto"&&(y=parseFloat(n.dataset.height||"")||(O=>{let T=0;return T=O instanceof HTMLImageElement?O.naturalHeight:O instanceof SVGElement?O.height.baseVal.value:Math.max(O.offsetHeight,O.scrollHeight),T||0})(n));let p=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;this.option("transformParent")&&(p=p.parentElement||p);const v=p.getAttribute("style")||"";p.style.setProperty("transform","none","important"),o&&(p.style.width="",p.style.height=""),p.offsetHeight;const M=n.getBoundingClientRect();let w=M.width*i,L=M.height*i,F=0,q=0;o&&(Math.abs(f-w)>1||Math.abs(y-L)>1)&&({width:w,height:L,top:F,left:q}=((O,T,B,I)=>{const U=B/I;return U>O/T?(B=O,I=O/U):(B=T*U,I=T),{width:B,height:I,top:.5*(T-I),left:.5*(O-B)}})(w,L,f,y)),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:M.top-r.top+F,bottom:r.bottom-M.bottom+F,left:M.left-r.left+q,right:r.right-M.right+q,fitWidth:w,fitHeight:L,width:w,height:L,fullWidth:f,fullHeight:y}),p.style.cssText=v,o&&(p.style.width=`${w}px`,p.style.height=`${L}px`),this.setTransform(),t!==!0&&this.emit("refresh"),this.ignoreBounds||(b(this.targetScale)<b(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===x.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}getBounds(){const t=this.option("bounds");if(t!=="auto")return t;const{contentWidth:e,contentHeight:i}=this.calculateContentDim(this.target);let s=0,n=0,o=0,r=0;const l=this.option("infinite");if(l===!0||this.lockedAxis&&l===this.lockedAxis)s=-1/0,o=1/0,n=-1/0,r=1/0;else{let{containerRect:m,contentRect:g}=this,c=b(this.contentRect.fitWidth*this.targetScale,$),u=b(this.contentRect.fitHeight*this.targetScale,$),{innerWidth:d,innerHeight:f}=m;if(this.containerRect.width===c&&(d=m.width),this.containerRect.width===u&&(f=m.height),e>d){o=.5*(e-d),s=-1*o;let y=.5*(g.right-g.left);s+=y,o+=y}if(this.contentRect.fitWidth>d&&e<d&&(s-=.5*(this.contentRect.fitWidth-d),o-=.5*(this.contentRect.fitWidth-d)),i>f){r=.5*(i-f),n=-1*r;let y=.5*(g.bottom-g.top);n+=y,r+=y}this.contentRect.fitHeight>f&&i<f&&(s-=.5*(this.contentRect.fitHeight-f),o-=.5*(this.contentRect.fitHeight-f))}return{x:{min:s,max:o},y:{min:n,max:r}}}updateControls(){const t=this,e=t.container,{panMode:i,contentRect:s,fullScale:n,targetScale:o,coverScale:r,maxScale:l,minScale:m}=t;let g={toggleMax:o-m<.5*(l-m)?l:m,toggleCover:o-m<.5*(r-m)?r:m,toggleZoom:o-m<.5*(n-m)?n:m}[t.option("click")||""]||m,c=t.canZoomIn(),u=t.canZoomOut(),d=i===ft&&!!this.option("touch"),f=u&&d;d&&(b(o)<b(m)&&!this.panOnlyZoomed&&(f=!0),(b(s.width,1)>b(s.fitWidth,1)||b(s.height,1)>b(s.fitHeight,1))&&(f=!0)),b(s.width*o,1)<b(s.fitWidth,1)&&(f=!1),i===S&&(f=!1);let y=c&&b(g)>b(o),p=!y&&!f&&u&&b(g)<b(o);et(e,this.cn("canZoomIn"),y),et(e,this.cn("canZoomOut"),p),et(e,this.cn("isDraggable"),f);for(const v of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))c?(v.removeAttribute("disabled"),v.removeAttribute("tabindex")):(v.setAttribute("disabled",""),v.setAttribute("tabindex","-1"));for(const v of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))u?(v.removeAttribute("disabled"),v.removeAttribute("tabindex")):(v.setAttribute("disabled",""),v.setAttribute("tabindex","-1"));for(const v of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){c||u?(v.removeAttribute("disabled"),v.removeAttribute("tabindex")):(v.setAttribute("disabled",""),v.setAttribute("tabindex","-1"));const M=v.querySelector("g");M&&(M.style.display=c?"":"none")}}panTo({x:t=this.target.e,y:e=this.target.f,scale:i=this.targetScale,friction:s=this.option("friction"),angle:n=0,originX:o=0,originY:r=0,flipX:l=!1,flipY:m=!1,ignoreBounds:g=!1}){this.state!==x.Destroy&&this.applyChange({panX:t-this.target.e,panY:e-this.target.f,scale:i/this.targetScale,angle:n,originX:o,originY:r,friction:s,flipX:l,flipY:m,ignoreBounds:g})}applyChange({panX:t=0,panY:e=0,scale:i=1,angle:s=0,originX:n=-this.current.e,originY:o=-this.current.f,friction:r=this.option("friction"),flipX:l=!1,flipY:m=!1,ignoreBounds:g=!1,bounce:c=this.option("bounce")}){if(this.state===x.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=r||0,this.ignoreBounds=g;const{current:u}=this,d=u.e,f=u.f,y=this.getMatrix(this.target);let p=new DOMMatrix().translate(d,f).translate(n,o).translate(t,e);if(this.option("zoom")){if(!g){const v=this.targetScale,M=this.minScale,w=this.maxScale;v*i<M&&(i=M/v),v*i>w&&(i=w/v)}p=p.scale(i)}p=p.translate(-n,-o).translate(-d,-f).multiply(y),s&&(p=p.rotate(s)),l&&(p=p.scale(-1,1)),m&&(p=p.scale(1,-1));for(const v of C)v!=="e"&&v!=="f"&&(p[v]>this.minScale+1e-5||p[v]<this.minScale-1e-5)?this.target[v]=p[v]:this.target[v]=b(p[v],$);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===S||c===!1)&&!g&&this.clampTargetBounds(),this.isResting||(this.state=x.Panning,this.requestTick())}stop(t=!1){if(this.state===x.Init||this.state===x.Destroy)return;const e=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const i of C)this.velocity[i]=0,t==="current"?this.current[i]=this.target[i]:t==="target"&&(this.target[i]=this.current[i]);this.setTransform(),V(this.container,"is-scaling"),V(this.container,"is-animating"),this.isTicking=!1,this.state=x.Ready,e&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),nt(this.container,"is-animating"),this.isScaling&&nt(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(t,e=this.option("mouseMoveFriction")){if(this.pmme=t,this.panMode!==S||!t||b(this.targetScale)<=b(this.minScale))return;this.emit("mouseMove",t);const{container:i,containerRect:s,contentRect:n}=this,o=s.width,r=s.height,l=i.getBoundingClientRect(),m=(t.clientX||0)-l.left,g=(t.clientY||0)-l.top;let{contentWidth:c,contentHeight:u}=this.calculateContentDim(this.target);const d=this.option("mouseMoveFactor");d>1&&(c!==o&&(c*=d),u!==r&&(u*=d));let f=.5*(c-o)-m/o*100/100*(c-o);f+=.5*(n.right-n.left);let y=.5*(u-r)-g/r*100/100*(u-r);y+=.5*(n.bottom-n.top),this.applyChange({panX:f-this.target.e,panY:y-this.target.f,friction:e})}zoomWithWheel(t){if(this.state===x.Destroy||this.state===x.Init)return;const e=Date.now();if(e-this.pwt<45)return void t.preventDefault();this.pwt=e;var i=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce(function(m,g){return Math.abs(g)>Math.abs(m)?g:m});const s=Math.max(-1,Math.min(1,i)),{targetScale:n,maxScale:o,minScale:r}=this;let l=n*(100+45*s)/100;b(l)<b(r)&&b(n)<=b(r)?(this.cwd+=Math.abs(s),l=r):b(l)>b(o)&&b(n)>=b(o)?(this.cwd+=Math.abs(s),l=o):(this.cwd=0,l=Math.max(Math.min(l,o),r)),this.cwd>this.option("wheelLimit")||(t.preventDefault(),b(l)!==b(n)&&this.zoomTo(l,{event:t}))}canZoomIn(){return this.option("zoom")&&(b(this.contentRect.width,1)<b(this.contentRect.fitWidth,1)||b(this.targetScale)<b(this.maxScale))}canZoomOut(){return this.option("zoom")&&b(this.targetScale)>b(this.minScale)}zoomIn(t=1.25,e){this.zoomTo(this.targetScale*t,e)}zoomOut(t=.8,e){this.zoomTo(this.targetScale*t,e)}zoomToFit(t){this.zoomTo("fit",t)}zoomToCover(t){this.zoomTo("cover",t)}zoomToFull(t){this.zoomTo("full",t)}zoomToMax(t){this.zoomTo("max",t)}toggleZoom(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.fullScale-this.minScale)?"full":"fit",t)}toggleMax(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.maxScale-this.minScale)?"max":"fit",t)}toggleCover(t){this.zoomTo(this.targetScale-this.minScale<.5*(this.coverScale-this.minScale)?"cover":"fit",t)}iterateZoom(t){this.zoomTo("next",t)}zoomTo(t=1,{friction:e="auto",originX:i="auto",originY:s="auto",event:n}={}){if(this.isContentLoading||this.state===x.Destroy)return;const{targetScale:o}=this;this.stop();let r=1;if(this.panMode===S&&(n=this.pmme||n),n||i==="auto"||s==="auto"){const c=this.content.getBoundingClientRect(),u=this.container.getBoundingClientRect(),d=n?n.clientX:u.left+.5*u.width,f=n?n.clientY:u.top+.5*u.height;i=d-c.left-.5*c.width,s=f-c.top-.5*c.height}const l=this.fullScale,m=this.maxScale;let g=this.coverScale;typeof t=="number"?r=t/o:(t==="next"&&(l-g<.2&&(g=l),t=o<l-1e-5?"full":o<m-1e-5?"max":"fit"),r=t==="full"?l/o||1:t==="cover"?g/o||1:t==="max"?m/o||1:1/o||1),e=e==="auto"?r>1?.15:.25:e,this.applyChange({scale:r,originX:i,originY:s,friction:e}),n&&this.panMode===S&&this.panWithMouse(n,e)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.height-(e.top+.5*e.fitHeight)-i.f,scale:t.width/e.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.innerHeight-(e.top+.5*e.fitHeight)-i.f,scale:t.height/e.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:t}=this,e=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");t.classList.toggle(e);const s=t.classList.contains(e);s?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(s?"enterFS":"exitFS")}getMatrix(t=this.current){const{a:e,b:i,c:s,d:n,e:o,f:r}=t;return new DOMMatrix([e,i,s,n,o,r])}reset(t){if(this.state!==x.Init&&this.state!==x.Destroy){this.stop("current");for(const e of C)this.target[e]=Z[e];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=t===void 0?this.option("friction"):t,this.state=x.Panning,this.requestTick())}}destroy(){this.stop(),this.state=x.Destroy,this.detachEvents(),this.detachObserver();const{container:t,content:e}=this,i=this.option("classes")||{};for(const s of Object.values(i))t.classList.remove(s+"");e&&(e.removeEventListener("load",this.onLoad),e.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(W,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Rt}),Object.defineProperty(W,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});function pt(a){return typeof a=="function"?a():Ot(a)}function Bt(a=!1,t={}){const{truthyValue:e=!0,falsyValue:i=!1}=t,s=xt(a),n=Mt(a);function o(r){if(arguments.length)return n.value=r,n.value;{const l=pt(e);return n.value=n.value===l?pt(i):l,n.value}}return s?o:[n,o]}const It={components:{ProductsList:wt},data(){return{isLoading_big:!1,statusBtn_car:{loadingItem:""},product:{},productId:"",qty:1,isBuy:!1,productSize_item:"",rateValue:5,rateComment:"The product is the best ,I have ever seen !",rateTime:"8: 40 AM, Today",rateData:[],childClass:"",container:null,options:{},panzoom:null}},mounted(){this.container=this.$refs.myPanzoom,this.panzoom=new W(this.container,this.options,{Pins:vt})},created(){console.clear(),this.productId=this.$route.params.productId;//! 統一商品唯一的ID(item.id)
this.getProduct(),this.getProduct_item(this.productId),this.getFavorite();//! 用其他電腦，先新增本地陣列
this.sendComment(),this.changeClass()},computed:{...Y(Q,["statusBtn"]),...Y(Q,["isFavorite","favoriteIds"]),...Y(dt,["isLoading_productStore","product_item"]),...Y(Et,["isLogin"])},methods:{...G(kt,["getCart"]),...G(Q,["getFavorite","updateFavorite"]),...G(dt,["getProduct_item","setCategory"]),addToCart(a,t=1,e){if(!this.productSize_item)this.$swal.fire("Please","Size must be selected.","warning");else{this.isLoading_big=!0;const i="https://vue3-course-api.hexschool.io/api/william-api/cart",s={product_id:a,qty:t};this.$http.post(i,{data:s}).then(()=>{if(this.getCart(),this.isLoading_big=!1,this.$toast("success","add to cart."),e){this.$router.push("/cart-view/cart-list");//! 觸發該頁函式，讓下一頁資料更新
this.getCart()}})}},getProduct(){const a=`https://vue3-course-api.hexschool.io/api/william-api/product/${this.productId}`;this.isLoading=!0,this.isLoading_big=!0,this.$http.get(a).then(t=>{this.isLoading=!1,this.isLoading_big=!1,t.data.success&&(this.product=t.data.product,this.setCategory(this.product.category))})},sendComment(){if(!this.rateValue||!this.rateComment){this.$toast("error","star and comment required.");return}const a={rateValue:this.rateValue,rateComment:this.rateComment,rateTime:this.rateTime};localStorage.setItem("rateData",JSON.stringify(a)),this.updateComment();const t=new Date,e=t.getHours(),i=t.getMinutes(),s=e>=12?"PM":"AM",n=e%12===0?12:e%12,o=i.toString().padStart(2,"0"),r=`${n}:${o} ${s}`,l=t.toLocaleDateString("en-US",{weekday:"long"});this.rateTime=`${r}, ${l}`,this.rateValue=null,this.rateComment=""},updateComment(){this.isLoading_big=!0,this.rateData.unshift(JSON.parse(localStorage.getItem("rateData"))),setTimeout(()=>{this.isLoading_big=!1,this.$toast("success","add comment")},1e3)},changeClass(){this.childClass="products_sort"}},setup(){const[a,t]=Bt();return{isHeart:a,toggleHeart:t}}},P=a=>(Lt("data-v-13463334"),a=a(),At(),a),Ht={class:"container-xl"},Xt={"aria-label":"breadcrumb",class:"mt-10"},Wt={class:"breadcrumb"},Yt={class:"breadcrumb-item"},Nt={class:"breadcrumb-item"},Vt={class:"breadcrumb-item active"},Zt={class:"row row-cols-md-2 g-md-5 mt-md-5"},$t={id:"carouselExampleIndicators",class:"carousel slide col-md-8","data-bs-ride":"carouse"},qt={class:"carousel-indicators"},Ut=P(()=>h("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"},null,-1)),Gt=["data-bs-slide-to","aria-label"],Kt={class:"carousel-inner"},Jt={class:"carousel-item active text-center h-100 w-100 mx-auto"},Qt={class:"f-panzoom h-100 w-100 mx-auto",ref:"myPanzoom"},te=P(()=>h("div",{"data-panzoom-pin":"","data-x":"56%","data-y":"60%"},[h("div",{title:"My dream house"},[h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","monica-exclude-el":"m"},[h("path",{d:"M12 0a7.2 7.2 0 0 0-7.27 7.14C4.73 11.08 12 24 12 24s7.27-12.92 7.27-16.86A7.2 7.2 0 0 0 12 0Z"})])]),h("p",{class:"text-white",style:{"text-shadow":`2px 2px 4px #000,\r
                        -2px -2px 4px #000`}}," feature ")],-1)),ee=["src"],ie=["src"],ne=Ct('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev" data-v-13463334><span class="carousel-control-prev-icon bg-info p-2 rounded-circle" aria-hidden="true" data-v-13463334></span><span class="visually-hidden" data-v-13463334>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next" data-v-13463334><span class="carousel-control-next-icon bg-info p-2 rounded-circle" aria-hidden="true" data-v-13463334></span><span class="visually-hidden" data-v-13463334>Next</span></button>',2),se={class:"col-md-4 d-flex flex-column justify-content-around text-center"},oe={class:"mb-5"},ae={class:"my-5"},re={class:"d-flex justify-content-center w-50 mx-auto"},le={class:"form-check"},ce=P(()=>h("label",{style:{cursor:"pointer"},class:"form-check-label border border-secondary text-secondary px-3 py-2 rounded-3",for:"S"}," S ",-1)),he={class:"form-check"},de=P(()=>h("label",{style:{cursor:"pointer"},class:"form-check-label border border-secondary text-secondary px-3 py-2 rounded-3",for:"M"}," M ",-1)),ue={class:"form-check"},me=P(()=>h("label",{style:{cursor:"pointer"},class:"form-check-label border border-secondary text-secondary px-3 py-2 rounded-3",for:"L"}," L ",-1)),fe={class:"form-check slanted-div"},ge=P(()=>h("label",{style:{cursor:"not-allowed"},disabled:"",class:"form-check-label border border-secondary text-secondary px-3 py-2 rounded-3 overflow-hidden",for:"XL"}," XL ",-1)),pe={class:"d-flex align-items-center justify-content-center gap-3"},be={class:"text-secondary fs-6 text-decoration-line-through fw-lighter"},ve={class:"text-center"},ye={class:"justify-content-center d-flex align-items-center my-3 gap-5"},we={class:"fs-1 d-flex justify-content-center gap-3 align-items-center"},xe=["disabled"],Me={class:"position-relative"},Oe={key:2,class:"fa-solid fa-heart fa-beat-fade text-danger fs-3 position-absolute"},Pe={class:"d-flex flex-column flex-md-row justify-content-center gap-md-5 mt-5 gap-1"},Se=["disabled"],_e=P(()=>h("hr",{class:"w-100 mx-auto"},null,-1)),Te={class:"my-3 d-flex gap-2 w-100 flex-wrap mx-auto"},Ee={class:"row row-cols-md-2 flex-column-reverse flex-md-row"},ke={class:"col-md-8"},Ce=P(()=>h("h3",{class:"mt-7"},"DESCRIPTION",-1)),Le=P(()=>h("hr",null,null,-1)),Ae=["innerHTML"],je=P(()=>h("h3",{class:"mt-7"},"COMMENT",-1)),ze=P(()=>h("hr",null,null,-1)),De={class:"img_cont_msg"},Re=["src"],Fe={class:"d-flex flex-column"},Be={class:"position-relative"},Ie={class:"msg_cotainer"},He={class:"msg_time"},Xe={class:"card-footer mt-10"},We={class:"input-group d-flex align-items-end"},Ye=P(()=>h("i",{class:"fas fa-location-arrow"},null,-1)),Ne=[Ye],Ve={class:"col-md-4 sticky-md-top align-self-start",style:{top:"10%","z-index":"1"}},Ze={class:"accordion d-flex justify-content-center mt-5",id:"accordionPanelsStayOpenExample"},$e={class:"accordion-item w-100"},qe=P(()=>h("h2",{class:"accordion-header",id:"panelsStayOpen-headingOne"},[h("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}," DETAILS ")],-1)),Ue={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne"},Ge={class:"accordion-body text-start"},Ke=["innerHTML"],Je=P(()=>h("h3",{class:"mt-7"},"RECOMMEND",-1));function Qe(a,t,e,i,s,n){const o=H("Loading"),r=H("router-link"),l=H("el-tag"),m=H("el-rate"),g=H("ProductsList");return E(),k("div",null,[_(o,{active:s.isLoading_big},null,8,["active"]),_(o,{active:a.isLoading_productStore},null,8,["active"]),h("div",Ht,[h("nav",Xt,[h("ol",Wt,[h("li",Yt,[_(r,{class:"breadcrumb_a",style:{"text-decoration":"none !important"},to:"/"},{default:j(()=>[z("Home")]),_:1})]),h("li",Nt,[_(r,{class:"breadcrumb_a",style:{"text-decoration":"none !important"},to:"/products-view/products-content/title"},{default:j(()=>[z("Product")]),_:1})]),h("li",Vt,[_(r,{class:"breadcrumb_a",onClick:t[0]||(t[0]=c=>a.setCategory(a.product_item.category)),style:{"text-decoration":"none !important"},to:"/products-view/products-content/title"},{default:j(()=>[z(A(a.product_item.category),1)]),_:1})])])]),h("div",Zt,[h("div",$t,[h("div",qt,[Ut,(E(!0),k(K,null,J(a.product_item.imagesUrl,(c,u)=>(E(),k("button",{key:u+1,type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":u+1,"aria-current":"true","aria-label":"Slide "+u+1},null,8,Gt))),128))]),h("div",Kt,[h("div",Jt,[h("div",Qt,[te,h("img",{class:"f-panzoom__content w-100 h-100 mx-auto",src:a.product_item.imageUrl},null,8,ee)],512)]),(E(!0),k(K,null,J(a.product_item.imagesUrl,(c,u)=>(E(),k("div",{class:"carousel-item text-center h-100 w-100",key:u},[h("img",{src:c.url,class:"w-auto h-100",alt:"..."},null,8,ie)]))),128))]),ne]),h("div",se,[h("h1",oe,A(a.product_item.title),1),h("div",ae,[h("div",re,[h("div",le,[X(h("input",{value:"S","onUpdate:modelValue":t[1]||(t[1]=c=>s.productSize_item=c),class:"form-check-input d-none",type:"radio",name:"size",id:"S"},null,512),[[N,s.productSize_item]]),ce]),h("div",he,[X(h("input",{value:"M","onUpdate:modelValue":t[2]||(t[2]=c=>s.productSize_item=c),class:"form-check-input d-none",type:"radio",name:"size",id:"M"},null,512),[[N,s.productSize_item]]),de]),h("div",ue,[X(h("input",{value:"L","onUpdate:modelValue":t[3]||(t[3]=c=>s.productSize_item=c),class:"form-check-input d-none",type:"radio",name:"size",id:"L"},null,512),[[N,s.productSize_item]]),me]),h("div",fe,[X(h("input",{disabled:"",value:"XL","onUpdate:modelValue":t[4]||(t[4]=c=>s.productSize_item=c),class:"form-check-input d-none",type:"radio",name:"size",id:"XL"},null,512),[[N,s.productSize_item]]),ge])])]),h("div",pe,[h("small",be,"$ "+A(a.$filters.currency(a.product_item.origin_price)),1),h("h2",ve,"$ "+A(a.$filters.currency(a.product_item.price)),1)]),h("div",ye,[h("div",we,[h("button",{style:{height:"40px"},disabled:s.qty===1,onClick:t[5]||(t[5]=c=>s.qty--),class:"btn btn-outline-secondary py-0 rounded-3"}," - ",8,xe),h("span",null,A(s.qty),1),h("button",{style:{height:"40px"},onClick:t[6]||(t[6]=c=>s.qty++),class:"btn btn-outline-secondary py-0 rounded-3"}," + ")]),h("div",Me,[a.favoriteIds.indexOf(a.product_item.id)!==-1?(E(),k("i",{key:0,onClick:t[7]||(t[7]=c=>a.updateFavorite(a.product_item.id)),class:"fa-solid fa-heart fa-beat-fade text-danger fs-3"})):(E(),k("i",{key:1,onClick:t[8]||(t[8]=c=>a.updateFavorite(a.product_item.id)),class:ht(["fa-solid fa-heart-crack fa-shake text-secondary fs-3",{"text-white":i.isHeart}]),onMouseenter:t[9]||(t[9]=c=>i.toggleHeart(!0)),onMouseleave:t[10]||(t[10]=c=>i.toggleHeart(!1))},null,34)),i.isHeart?(E(),k("i",Oe)):St("",!0)])]),h("div",Pe,[h("button",{class:ht(["btn-outline-nbaBlue btn rounded-3",{"btn btn-outline-nbaBlue":a.product_item.id===a.statusBtn.loadingItem}]),onClick:t[11]||(t[11]=c=>n.addToCart(a.product_item.id,s.qty,s.isBuy=!1)),disabled:a.product_item.id===a.statusBtn.loadingItem}," ADD TO CART ",10,Se),h("button",{class:"btn btn-danger rounded-3",onClick:t[12]||(t[12]=c=>n.addToCart(a.product_item.id,s.qty,s.isBuy=!0))}," BUY NOW ")]),_e,h("div",Te,[_(l,{class:"fs-6 rounded-3 p-3",type:"warning",size:"small",effect:"plain",round:""},{default:j(()=>[z("Free shipping")]),_:1}),_(l,{class:"fs-6 rounded-3 p-3",type:"info",size:"small",effect:"plain",round:""},{default:j(()=>[z("Store pickup")]),_:1}),_(l,{class:"fs-6 rounded-3 p-3",type:"danger",size:"small",effect:"plain",round:""},{default:j(()=>[z("Fast delivery")]),_:1})])])]),h("div",Ee,[h("div",ke,[Ce,Le,h("p",{innerHTML:a.product_item.content},null,8,Ae),je,ze,(E(!0),k(K,null,J(s.rateData,(c,u)=>(E(),k("div",{class:"d-flex justify-content-start mb-4",key:u},[h("div",De,[h("img",{src:`https://i.pravatar.cc/150?img=${u}`,class:"rounded-circle user_img_msg"},null,8,Re)]),h("div",Fe,[_(m,{class:"ms-3",modelValue:c.rateValue,"onUpdate:modelValue":d=>c.rateValue=d,disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},null,8,["modelValue","onUpdate:modelValue"]),h("div",Be,[h("div",Ie,A(c.rateComment),1),h("span",He,A(c.rateTime),1)])])]))),128)),h("div",Xe,[_(m,{modelValue:s.rateValue,"onUpdate:modelValue":t[13]||(t[13]=c=>s.rateValue=c),"show-text":""},null,8,["modelValue"]),h("div",We,[X(h("textarea",{onKeydown:t[14]||(t[14]=Tt(c=>n.sendComment(),["enter"])),"onUpdate:modelValue":t[15]||(t[15]=c=>s.rateComment=c),rows:"3",class:"form-control type_msg",placeholder:"Type your comment ..."},null,544),[[_t,s.rateComment]]),h("span",{onClick:t[16]||(t[16]=(...c)=>n.sendComment&&n.sendComment(...c)),class:"input-group-text send_btn"},Ne)])])]),h("div",Ve,[h("div",Ze,[h("div",$e,[qe,h("div",Ue,[h("div",Ge,[h("p",{innerHTML:a.product_item.description},null,8,Ke)])])])])])]),Je,_(g)])])}const oi=Pt(It,[["render",Qe],["__scopeId","data-v-13463334"]]);export{oi as default};
