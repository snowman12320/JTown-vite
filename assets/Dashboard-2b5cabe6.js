import{T as b}from"./ToastMessages-f3d2aa95.js";import{r as l,o as m,K as x,w as t,f as s,d as e,t as g,C as i,g as h,M as v,N as w,O as k,P as S,Q as $,R as N,S as O,_ as B,a as I,b as T,c as y,l as C}from"./index-f9d242ac.js";import"./messageStore-2b7ed7f6.js";const M=["src"],F={class:"text-white mx-1 text-center w-100"},D=s("div",{class:"text-center w-100 btn btn-nbaBlue text-decoration-none"},"前台",-1),E=s("div",{class:"text-center w-100 btn btn-nbaRed text-decoration-none"},"會員",-1),V=s("div",{class:"text-center w-100"},"產品",-1),L=s("div",{class:"text-center w-100"},"訂單",-1),P=s("div",{class:"text-center w-100"},"優惠券",-1),R=s("div",{class:"text-center w-100"},"文章",-1),U={data(){return{username:"",isCollapse:!0,random_number:Math.floor(Math.random()*(50-1+1)+3),timer:null}},created(){if(!localStorage.getItem("username"))this.$router.push("/login");else{const c=JSON.parse(localStorage.getItem("username")).indexOf("@");this.username=JSON.parse(localStorage.getItem("username")).slice(0,c)}},methods:{logout(){if(localStorage.getItem("VIP"))localStorage.removeItem("VIP"),this.$swal.fire("SEE YOU SOON VIP","THANK YOU ! than you can give me some suggestions from the FB links below the website.","success"),this.$router.push("/login");else{const c="https://vue3-course-api.hexschool.io/logout";this.$http.post(c,this.user).then(o=>{o.data.success&&(this.$swal.fire("SEE YOU SOON","THANK YOU ! than you can give me some suggestions from the FB links below the website.","success"),this.$router.push("/login"))})}},startTimer(){this.timer=setTimeout(()=>{this.isCollapse=!1},1500)},cancelTimer(){this.isCollapse=!0,clearTimeout(this.timer)}}},Y=Object.assign(U,{__name:"BackNavbar",setup(c){return(o,d)=>{const a=l("el-icon"),n=l("el-menu-item"),r=l("RouterLink"),u=l("el-menu");return m(),x(u,{"active-text-color":"#cc2b31",backgroundColor:"#180b0b","text-color":"#fff","default-active":o.$route.path,class:"el-menu-vertical-demo d-flex flex-column justify-content-between",collapse:o.isCollapse,onMouseenter:o.startTimer,onMouseleave:o.cancelTimer},{default:t(()=>[s("div",null,[e(n,{index:"1"},{title:t(()=>[s("span",F,g(o.username),1)]),default:t(()=>[e(a,null,{default:t(()=>[s("img",{src:`https://i.pravatar.cc/150?img=${o.random_number}`,class:"rounded-circle h-100 w-100"},null,8,M)]),_:1})]),_:1}),e(r,{to:"/"},{default:t(()=>[e(n,{index:"/"},{title:t(()=>[D]),default:t(()=>[e(a,null,{default:t(()=>[e(i(v))]),_:1})]),_:1})]),_:1}),e(r,{to:"/dashboard/members"},{default:t(()=>[e(n,{index:"/dashboard/members"},{title:t(()=>[E]),default:t(()=>[e(a,null,{default:t(()=>[e(i(w))]),_:1})]),_:1})]),_:1}),e(r,{to:"/dashboard/products",class:"text-white text-decoration-none w-100"},{default:t(()=>[e(n,{route:"/dashboard/products",index:"/dashboard/products"},{title:t(()=>[V]),default:t(()=>[e(a,null,{default:t(()=>[e(i(k))]),_:1})]),_:1})]),_:1}),e(r,{to:"/dashboard/orders",class:"text-white w-100 text-center text-decoration-none"},{default:t(()=>[e(n,{index:"/dashboard/orders"},{title:t(()=>[L]),default:t(()=>[e(a,null,{default:t(()=>[e(i(S))]),_:1})]),_:1})]),_:1}),e(r,{to:"/dashboard/coupons",class:"text-white w-100 text-center text-decoration-none"},{default:t(()=>[e(n,{index:"/dashboard/coupons"},{title:t(()=>[P]),default:t(()=>[e(a,null,{default:t(()=>[e(i($))]),_:1})]),_:1})]),_:1}),e(r,{to:"/dashboard/storys",class:"text-white text-center w-100 text-decoration-none"},{default:t(()=>[e(n,{index:"/dashboard/storys"},{title:t(()=>[R]),default:t(()=>[e(a,null,{default:t(()=>[e(i(N))]),_:1})]),_:1})]),_:1})]),e(n,{index:"8",class:"border-top border-white"},{title:t(()=>[s("a",{href:"#",onClick:d[0]||(d[0]=h((..._)=>o.logout&&o.logout(..._),["prevent"])),class:"text-white text-center w-100 text-decoration-none"},"登出")]),default:t(()=>[e(a,{onClick:h(o.logout,["prevent"])},{default:t(()=>[e(i(O))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["default-active","collapse","onMouseenter","onMouseleave"])}}});const A={components:{ToastMessages:b,FullFooter:I,BackNavbar:Y},async created(){await this.checkLoginStatusInDashboard()},methods:{...T(C,["checkLoginStatusInDashboard"])}},K={class:"container-fluid position-relative px-0 dashboard"},j={class:"d-flex h-100"};function H(c,o,d,a,n,r){const u=l("ToastMessages"),_=l("BackNavbar"),f=l("router-view"),p=l("FullFooter");return m(),y("div",K,[e(u),s("div",j,[e(_),e(f)]),e(p)])}const z=B(A,[["render",H],["__scopeId","data-v-9e5803f3"]]);export{z as default};
