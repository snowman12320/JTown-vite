import{_ as f,b as g,r as x,o as b,c as v,d as h,f as t,q as p,g as r,s as c,t as y,w as u,u as k,y as w,z as L,a5 as I}from"./index-9926fd6b.js";const N="/jtown-vite/assets/CYOKWOiUoAIJGu4-c1e232d8.png";const C={components:{},data(){return{isLoading_big:!1,story:{},productListId:"",storyIndex:null,isNotPrev:null,isNotNext:null,storyList:[],sentence:""}},created(){console.clear(),this.productListId=this.$route.params.storyId,this.getStory()},watch:{storyIndex(){let s=null;this.storyIndex>this.storyList.length-1?(this.storyIndex=0,s=this.storyList[this.storyIndex].id,this.$router.push(`/story/item/${s}`),this.getStory(s)):(s=this.storyList[this.storyIndex].id,this.$router.push(`/story/item/${s}`),this.getStory(s))}},methods:{...g(k,["setCacheSearch"]),getMerchandise(){const s=this.story.title.trim(),e=s.indexOf(" ");this.sentence=s.substring(0,e),this.$router.push(`/products-view/products-content/${this.sentence}`),this.setCacheSearch(this.sentence)},getStory(s=this.productListId){this.isLoading_big=!0;const e=`https://vue3-course-api.hexschool.io/api/william-api/article/${s}`;this.$http.get(e).then(o=>{if(this.isLoading_big=!1,o.data.success){this.story=o.data.article,this.getStoryList();//! 要在此接著非同步執行，不然會抓不到id
}}).catch(o=>{console.error(o)})},getStoryList(s=1){const e=`https://vue3-course-api.hexschool.io/api/william-api/articles/?page=${s}`;this.$http.get(e).then(o=>{o.data.success&&(this.storyList=o.data.articles,this.storyList=o.data.articles.filter(d=>d.isPublic),this.storyIndex=this.storyList.findIndex(d=>d.id===this.story.id),this.isNotPrev=!(this.storyIndex>0),this.isNotNext=this.storyIndex==this.storyList.length-1)})},handleClick(s){s.target.tagName==="A"&&this.$swal.fire({text:" Do you agree to be directed to this link?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, do it!"}).then(e=>{e.isConfirmed&&window.open(s.target.href,"_blank").focus()})}}},n=s=>(w("data-v-d3eef093"),s=s(),L(),s),S={id:"Ranking",class:"d-flex justify-content-center align-items-center text-dark pt-5 position-relative",style:{"margin-top":"104px !important"}},B=n(()=>t("h2",{class:"d-md-block d-none text-pickBlack"},"PLAYER",-1)),T=n(()=>t("img",{src:I,height:"50",alt:"storylogo"},null,-1)),A=n(()=>t("h2",{class:"d-md-block d-none text-pickBlack"},"STORY",-1)),O={class:"w-100 position-md-fixed position-absolute start-0 end-0 px-7",style:{top:"20%"},"aria-label":"Page navigation example"},P={class:"pagination w-100 d-flex justify-content-between"},M=["disabled"],R=n(()=>t("i",{class:"fa fa-caret-left","aria-hidden":"true"},null,-1)),Y=["disabled"],$=n(()=>t("i",{class:"fa fa-caret-right","aria-hidden":"true"},null,-1)),H={class:"container-xxl my-3"},V=n(()=>t("p",{class:"fs-6 text-secondary text-center mb-5"}," how to become the NBA all star player? ",-1)),j={class:"row row-cols-1 row-cols-xl-2 mx-md-2 g-xl-5 position-relative flex-xl-row flex-column-reverse"},z={class:"col col-xl-8 mx-auto mb-xl-5"},U={class:"card shadow"},D={class:"card-body"},E={class:"fs-4 lh-xl fw-bold text-center"},G={class:"text-secondary text-end d-block w-100"},J=["innerHTML"],K={class:"my-3 d-flex gap-3"},W={class:"col col-xl-4 sticky-xl-top align-self-start",style:{"z-index":"5",top:"100px"}},q={class:"small_card"},F={class:"card mb-5 text-center text-xl-start"},Q=["src"],X=n(()=>t("img",{src:N,class:"allstaritem_back img-fluid op-center of-cover",alt:"CYOKWOiUoAIJGu4"},null,-1)),Z=["innerHTML"];function tt(s,e,o,d,i,a){const m=x("Loading"),_=x("el-tag");return b(),v("div",null,[h(m,{active:i.isLoading_big},null,8,["active"]),t("div",S,[B,T,A,t("nav",O,[t("ul",P,[t("li",{class:p(["page-item",{disabled:i.isNotPrev}])},[t("a",{class:p(["page-link",{disabled:i.isNotPrev}]),disabled:i.isNotPrev,onClick:e[0]||(e[0]=r(l=>i.storyIndex--,["prevent"])),href:"#"},[R,c(" Prev ")],10,M)],2),t("li",{class:p(["page-item",{disabled:i.isNotNext}])},[t("a",{class:p(["page-link",{disabled:i.isNotNext}]),disabled:i.isNotNext,onClick:e[1]||(e[1]=r(l=>i.storyIndex++,["prevent"])),href:"#"},[c(" Next "),$],10,Y)],2)])])]),t("div",H,[V,t("main",j,[t("article",z,[t("div",U,[t("div",D,[t("h2",E,y(i.story.title),1),t("small",G,y(i.story.author+" , "+s.$filters.dateAndTime(this.story.create_at)),1),t("button",{onClick:e[2]||(e[2]=r((...l)=>a.handleClick&&a.handleClick(...l),["prevent"])),innerHTML:i.story.description},null,8,J),t("div",K,[h(_,{class:"ml-2",type:"info"},{default:u(()=>[c("#NBA")]),_:1}),h(_,{class:"ml-2",type:"info"},{default:u(()=>[c("#ALL STAR")]),_:1}),h(_,{class:"ml-2",type:"info"},{default:u(()=>[c("#TORONTO")]),_:1})])])])]),t("aside",W,[t("div",q,[t("div",F,[t("img",{"data-num":"001",src:i.story.imageUrl,height:"250",class:"of-cover w-100 op-top position-absolute pt-3",alt:"..."},null,8,Q),X,t("button",{onClick:e[3]||(e[3]=r((...l)=>a.handleClick&&a.handleClick(...l),["prevent"])),class:"card-body fs-6",innerHTML:i.story.content},null,8,Z),t("a",{type:"button",onClick:e[4]||(e[4]=r(l=>a.getMerchandise(),["prevent"])),class:"btn btn-nbaBlue rounded-pill fs-4 btnRwd mx-auto mb-4"},"Visit Merchandise")])])])])])])}const et=f(C,[["render",tt],["__scopeId","data-v-d3eef093"]]);export{et as default};
